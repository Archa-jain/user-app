<div class="alignment">
  <mat-toolbar>
    <span class="fill-remaining-space" *ngIf = "!userId">Create New User</span>
    <span class="fill-remaining-space" *ngIf = "userId">Edit User Information</span>
  </mat-toolbar>

  <div class="container" novalidate>
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)" class="form">

      <mat-form-field class="form-element">
        <input matInput placeholder="Name" [formControl]="formGroup.controls.name" required>
        <mat-error *ngIf="!formGroup.controls['name'].valid && formGroup.controls.name.touched">
          {{ titleAlert }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <input matInput placeholder="Email address" [formControl]="formGroup.controls.email" required>
        <mat-error *ngIf="!formGroup.controls['email'].valid && formGroup.controls['email'].touched">
          {{ getErrorEmail() }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <input matInput type = "number" min="1" placeholder="Age" [formControl]="formGroup.controls.age" required>
        <mat-error *ngIf="!formGroup.controls.age.valid && formGroup.controls.age.touched">
          {{ titleAlert }}
        </mat-error>
      </mat-form-field>


      <mat-form-field class="form-element">
        <mat-select placeholder="Select Plan Type" [formControl]="formGroup.controls.type" required>
          <mat-option *ngFor="let type of typeList" [value]="type">{{ type }}</mat-option>
        </mat-select>
        <mat-error *ngIf="!formGroup.controls.type.valid && formGroup.controls.type.touched">
          {{ titleAlert }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <textarea matInput required placeholder="Plan Description" matTextareaAutosize matAutosizeMinRows="1" matAutosizeMaxRows="5" [formControl]="formGroup.controls.description"></textarea>
        <mat-error *ngIf="!formGroup.controls.description.valid && formGroup.controls.description.touched">
          {{ titleAlert }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <mat-select placeholder="Select Status" [formControl]="formGroup.controls.status" required>
          <mat-option *ngFor="let status of statusList" [value]="status">{{ status }}</mat-option>
        </mat-select>
        <mat-error *ngIf="!formGroup.controls.status.valid && formGroup.controls.status.touched">
          {{ titleAlert }}
        </mat-error>
      </mat-form-field>


      <div class="form-element">
        <mat-checkbox [formControl]="formGroup.controls.conferenceCalling" [checked]="formGroup.controls.conferenceCalling.value" class="form-checkbox">Conference Calling </mat-checkbox>
        <mat-checkbox [formControl]="formGroup.controls.callWaiting" class="form-checkbox">Call Waiting </mat-checkbox>
        <mat-checkbox [formControl]="formGroup.controls.voicemail" class="form-checkbox">Voice mail </mat-checkbox>
      </div>


      <div class="form-element">
        <button mat-raised-button color="primary" type="submit" class="button" [disabled]="!formGroup.valid" *ngIf = "!userId">Save</button>
        <button mat-raised-button color="primary" type="submit" class="button" [disabled]="!formGroup.valid" *ngIf = "userId">Update</button>
        <button mat-raised-button color="primary" class="button" (click) ="cancel()" >Cancel</button>
      </div>

    </form>
  </div>
</div>
